# MCDA Core 版本路线图 (v0.5 - v1.0)

**更新日期**: 2026-02-03
**状态**: ✅ 已批准 (ADR-009)

---

## 📊 总体概览

### 版本时间线

```
v0.4 (已完成) ──► v0.5 (4周) ──► v0.6 (2.5周) ──► v0.7 (3周) ──► v0.8 (2周) ──► v1.0 (4周)
   ✅              🔥 进行中        📋 计划中        📋 计划中        📋 计划中        🚀 生产版
```

### 工期统计

| 版本 | 工期 | 累计工期 | 主要交付 |
|------|------|---------|---------|
| v0.1-v0.4 | 29.5人日 | 29.5人日 | 基础框架 + 4算法 |
| **v0.5** | **19人日** | **48.5人日** | **核心扩展** |
| v0.6 | 12人日 | 60.5人日 | 高级功能 |
| v0.7 | 15人日 | 75.5人日 | 区间/模糊扩展 |
| v0.8 | 8人日 | 83.5人日 | 完善与优化 |
| **v1.0** | **20人日** | **103.5人日** | **生产就绪** |

**总工期**: **103.5 人日** (约 21 周,5 个月)

---

## 🎯 v0.5: 核心扩展 (19 人日,4 周)

**状态**: 📋 待开始
**优先级**: P0 (最高)
**目标**: 补全核心算法,建立区间数基础

### 功能清单

| 功能 | 优先级 | 工期 | ADR |
|------|--------|------|-----|
| **VIKOR 算法** | P0 | 3人日 | ADR-004 |
| **博弈论组合赋权** | P0 | 5人日 | ADR-003 |
| **区间数数据模型** | P1 | 2人日 | ADR-007 |
| **TOPSIS 区间版本** | P1 | 3人日 | ADR-007 |
| 测试与文档 | - | 3人日 | - |
| 缓冲 | - | 3人日 | - |

**总工期**: 19 人日

### 分阶段计划

#### Phase 1: VIKOR 算法 (5 人日,1 周)

**目标**: 实现折衷排序算法

**数学模型**:
```
群体效用: S_i = Σ w_j · (x_j^max - x_ij) / (x_j^max - x_j^min)
个别遗憾: R_i = max_j [w_j · (x_j^max - x_ij) / (x_j^max - x_j^min)]
折衷值: Q_i = v · (S_i - S_min) / (S_max - S_min) + (1-v) · (R_i - R_min) / (R_max - R_min)
```

**交付物**:
- VIKOR 算法实现
- 28 个测试
- 折衷解判定逻辑
- 完整文档

**验收标准**:
- [ ] 测试通过率 100%
- [ ] 测试覆盖率 >= 85%
- [ ] 执行时间 < 0.5 秒

#### Phase 2: 博弈论组合赋权 (5 人日,1 周)

**目标**: 集成多种赋权方法

**数学模型**:
```
最优组合: w* = W^T · W⁻¹ · R / (W^T · W⁻¹ · W)
其中:
- W = 方法权重向量
- R = 各方法权重矩阵
```

**交付物**:
- 博弈论组合算法
- YAML 配置支持
- 20 个测试
- 集成文档

**验收标准**:
- [ ] 测试通过率 100%
- [ ] 支持 3+ 种赋权方法组合
- [ ] YAML 配置工作正常

#### Phase 3: 区间数基础支持 (6 人日,1.5 周)

**目标**: 建立区间数数据模型和 TOPSIS 区间版本

**数据模型**:
```python
@dataclass(frozen=True)
class Interval:
    """区间数 [lower, upper]"""
    lower: float
    upper: float

    @property
    def midpoint(self) -> float:
        return (self.lower + self.upper) / 2
```

**交付物**:
- Interval 数据类型
- 区间算术运算
- TOPSIS 区间版本
- 30 个测试

**验收标准**:
- [ ] 测试通过率 100%
- [ ] TOPSIS 区间版本准确性验证
- [ ] 文档完整

#### Phase 4: 集成测试与文档 (3 人日,0.5 周)

**目标**: 确保质量,完善文档

**交付物**:
- 集成测试 (10+ 个)
- API 文档
- 用户指南
- 发布说明

---

## 📋 v0.6: 高级功能 (12 人日,2.5 周)

**状态**: 📋 计划中
**优先级**: P1
**目标**: 特殊场景决策支持

### 功能清单

| 功能 | 优先级 | 工期 | ADR |
|------|--------|------|-----|
| **德尔菲法** | P2 | 3人日 | - |
| **PCA 主成分分析** | P2 | 4人日 | - |
| **群决策基础** | P1 | 5人日 | ADR-008 |

**总工期**: 12 人日

### 分阶段计划

#### Phase 1: 德尔菲法 (3 人日)

**目标**: 多轮专家咨询

**数据模型**:
```python
@dataclass(frozen=True)
class DelphiProcess:
    """德尔菲法过程"""
    rounds: list[DelphiRound]
    max_rounds: int = 3
    convergence_threshold: float = 0.05
```

**交付物**:
- 多轮评分管理
- 收敛检查
- 统计摘要生成

#### Phase 2: PCA 主成分分析 (4 人日)

**目标**: 客观赋权方法

**数学模型**:
```
1. 标准化决策矩阵
2. 计算协方差矩阵
3. 特征值分解
4. 提取主成分权重
```

**交付物**:
- PCA 赋权算法
- 特征值分解
- 主成分选择策略

#### Phase 3: 群决策基础 (5 人日)

**目标**: 多决策者支持

**数据模型**:
```python
@dataclass(frozen=True)
class GroupDecisionProblem:
    """群决策问题"""
    base_problem: DecisionProblem
    decision_makers: list[DecisionMaker]
    individual_scores: dict[str, dict[str, dict[str, float]]]
```

**交付物**:
- DecisionMaker 数据模型
- 加权平均聚合
- 共识度测量

---

## 📋 v0.7: 区间/模糊扩展 (15 人日,3 周)

**状态**: 📋 计划中
**优先级**: P1
**目标**: 全面扩展区间/模糊支持

### 功能清单

| 功能 | 优先级 | 工期 | ADR |
|------|--------|------|-----|
| **TODIM 区间版本** | P1 | 3人日 | ADR-007 |
| **ELECTRE-I 区间版本** | P1 | 4人日 | ADR-007 |
| **PROMETHEE 区间版本** | P1 | 4人日 | ADR-007 |
| **模糊数基础** | P2 | 4人日 | ADR-007 |

**总工期**: 15 人日

### 分阶段计划

#### Phase 1: TODIM 区间版本 (3 人日)

**目标**: 前景理论 + 区间数

**挑战**:
- 区间前景理论
- 损失厌恶参数处理

#### Phase 2: ELECTRE-I 区间版本 (4 人日)

**目标**: 级别优于关系 + 区间数

**挑战**:
- 区间和谐指数
- 区间不和谐指数
- 区间核提取

#### Phase 3: PROMETHEE 区间版本 (4 人日)

**目标**: 偏好函数 + 区间数

**挑战**:
- 区间偏好函数
- 区间流计算

#### Phase 4: 模糊数基础 (4 人日)

**目标**: 三角模糊数支持

**数据模型**:
```python
@dataclass(frozen=True)
class TriangularFuzzy:
    """三角模糊数 (a, b, c)"""
    a: float  # 最小值
    b: float  # 中值
    c: float  # 最大值

    @property
    def defuzzified(self) -> float:
        return (self.a + self.b + self.c) / 3
```

---

## 📋 v0.8: 完善与优化 (8 人日,2 周)

**状态**: 📋 计划中
**优先级**: P2
**目标**: 质量提升,性能优化

### 功能清单

| 功能 | 优先级 | 工期 |
|------|--------|------|
| **敏感性分析增强** | P2 | 3人日 |
| **性能优化** | P3 | 3人日 |
| **文档完善** | P2 | 2人日 |

**总工期**: 8 人日

### 分阶段计划

#### Phase 1: 敏感性分析增强 (3 人日)

**目标**: 全面的敏感性分析

**功能**:
- 权重敏感性
- 评分敏感性
- 蒙特卡洛模拟

#### Phase 2: 性能优化 (3 人日)

**目标**: 提升大数据集性能

**优化点**:
- Numpy 向量化
- 缓存机制
- 并行计算(可选)

#### Phase 3: 文档完善 (2 人日)

**目标**: 完整的用户文档

**交付物**:
- 完整 API 文档
- 用户教程
- 最佳实践
- 常见问题

---

## 🚀 v1.0: 生产就绪 (20 人日,4 周)

**状态**: 📋 计划中
**优先级**: P0
**目标**: 生产级质量,完整功能

### 功能清单

| 功能 | 优先级 | 工期 |
|------|--------|------|
| **Web UI** | P0 | 8人日 |
| **API 接口** | P0 | 5人日 |
| **数据导入导出** | P1 | 3人日 |
| **报告生成** | P1 | 2人日 |
| **部署文档** | P2 | 2人日 |

**总工期**: 20 人日

### 分阶段计划

#### Phase 1: Web UI (8 人日)

**目标**: 友好的 Web 界面

**技术栈**:
- 前端: React + Tailwind CSS
- 后端: FastAPI
- 部署: Docker

**功能**:
- 决策问题创建
- 算法选择
- 结果可视化
- 敏感性分析

#### Phase 2: API 接口 (5 人日)

**目标**: RESTful API

**端点**:
- POST /api/decisions - 创建决策问题
- GET /api/decisions/{id} - 获取结果
- POST /api/algorithms/{name}/calculate - 执行算法
- GET /api/algorithms - 获取算法列表

#### Phase 3: 数据导入导出 (3 人日)

**目标**: 支持多种数据格式

**格式**:
- Excel (.xlsx)
- CSV (.csv)
- JSON (.json)
- YAML (.yaml)

#### Phase 4: 报告生成 (2 人日)

**目标**: 自动生成决策报告

**报告内容**:
- 决策问题摘要
- 算法选择说明
- 结果排名
- 敏感性分析
- 可视化图表

#### Phase 5: 部署文档 (2 人日)

**目标**: 完整的部署指南

**文档**:
- Docker 部署
- 云服务部署 (AWS, Azure)
- 本地开发环境
- 故障排查

---

## 📊 版本对比

### 功能对比表

| 功能 | v0.4 | v0.5 | v0.6 | v0.7 | v0.8 | v1.0 |
|------|------|------|------|------|------|------|
| **算法数量** | 4 | 5 | 5 | 5 | 5 | 5 |
| TOPSIS | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| TODIM | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| ELECTRE-I | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| PROMETHEE | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| VIKOR | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ |
| **赋权方法** | 3 | 4 | 5 | 5 | 5 | 5 |
| AHP | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 熵权法 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 主观权重 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 博弈论组合 | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ |
| PCA | ❌ | ❌ | ✅ | ✅ | ✅ | ✅ |
| **特殊场景** | - | - | - | - | - | - |
| 区间数 | ❌ | 🟡 | 🟡 | ✅ | ✅ | ✅ |
| 模糊数 | ❌ | ❌ | ❌ | 🟡 | ✅ | ✅ |
| 群决策 | ❌ | ❌ | 🟡 | 🟡 | ✅ | ✅ |
| 德尔菲法 | ❌ | ❌ | 🟡 | 🟡 | ✅ | ✅ |
| **UI/UX** | - | - | - | - | - | - |
| CLI | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| Web UI | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ |
| **其他** | - | - | - | - | - | - |
| 敏感性分析 | 🟡 | 🟡 | 🟡 | 🟡 | ✅ | ✅ |
| API 接口 | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ |
| 数据导入导出 | ❌ | ❌ | ❌ | ❌ | 🟡 | ✅ |
| 报告生成 | ❌ | ❌ | ❌ | ❌ | 🟡 | ✅ |

**图例**:
- ✅ 完全支持
- 🟡 部分支持/基础版本
- ❌ 不支持

### 质量指标

| 指标 | v0.4 | v0.5 | v0.6 | v0.7 | v0.8 | v1.0 |
|------|------|------|------|------|------|------|
| **算法数量** | 4 | 5 | 5 | 5 | 5 | 5 |
| **测试数量** | 135 | 241 | 281 | 361 | 361 | 450+ |
| **测试覆盖率** | 95% | 85% | 82% | 80% | 85% | 90% |
| **代码行数** | 1900 | 2500 | 2800 | 3400 | 3500 | 5000+ |
| **文档行数** | 3800 | 4500 | 5200 | 6000 | 6800 | 8000+ |
| **执行时间** | 0.72s | 1.2s | 1.5s | 2.0s | 1.8s | 2.0s |

---

## 🎯 里程碑

### M1: v0.5 完成 (预计 2026-03-03)

**标志**:
- VIKOR 算法实现
- 区间数基础完成
- 5 个算法可用

**庆祝**: 🎉 核心算法库完成

### M2: v0.6 完成 (预计 2026-03-20)

**标志**:
- 群决策基础完成
- PCA 赋权可用

**庆祝**: 🎉 特殊场景支持

### M3: v0.7 完成 (预计 2026-04-10)

**标志**:
- 所有算法支持区间数
- 模糊数基础完成

**庆祝**: 🎉 不确定性决策支持

### M4: v0.8 完成 (预计 2026-04-24)

**标志**:
- 性能优化完成
- 文档完善

**庆祝**: 🎉 质量达标

### M5: v1.0 发布 (预计 2026-05-22)

**标志**:
- Web UI 上线
- 生产就绪
- 完整功能

**庆祝**: 🚀 **正式发布 1.0**

---

## 📈 风险管理

### 高风险项

| 风险 | 影响 | 概率 | 缓解措施 |
|------|------|------|---------|
| **区间/模糊算法复杂度超预期** | 高 | 中 | 分阶段实施,v0.7 只做 TOPSIS |
| **性能不满足大数据需求** | 中 | 低 | v0.8 专门优化,可选并行计算 |
| **Web UI 技术选型变更** | 中 | 中 | v0.9 做技术验证,预留缓冲 |
| **用户需求变化** | 高 | 中 | 敏捷迭代,每个版本收集反馈 |

### 应急计划

**场景1: v0.5 延迟**
- 策略: 单独发布 v0.5.1 (区间数支持)
- 触发条件: v0.5 工期超过 22 人日

**场景2: 区间/模糊支持延迟**
- 策略: v0.7 只完成区间数,模糊数移到 v0.9
- 触发条件: Phase 1-2 延迟超过 3 人日

**场景3: Web UI 技术难点**
- 策略: 使用现成模板,降低自定义程度
- 触发条件: 原型验证失败

---

## 📚 参考资料

### 相关 ADR
- [ADR-004: 汇总算法架构设计](./decisions/mcda-core/004-mcda-aggregation-algorithms.md)
- [ADR-007: 区间数/模糊数 MCDA](./decisions/mcda-core/007-interval-fuzzy-mcda-architecture.md)
- [ADR-008: 群决策聚合策略](./decisions/mcda-core/008-group-decision-aggregation-strategy.md)
- [ADR-009: v0.5 版本规划调整](./decisions/mcda-core/009-v0.5-roadmap-adjustment.md)

### 进度文档
- [v0.4 进度总结](./active/mcda-core/v0.4/progress-summary.md)

---

**维护者**: hunkwk + AI
**最后更新**: 2026-02-03
**下次审查**: v0.5 完成后 (2026-03-03)
