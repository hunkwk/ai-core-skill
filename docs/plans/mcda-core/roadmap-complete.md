# MCDA Core 完整版本路线图

**项目**: MCDA Core (多准则决策分析核心库)
**更新日期**: 2026-02-05
**当前版本**: v0.10 ✅
**目标版本**: v1.0 🚀

**版本策略**:
- **0.x.x**: 开发阶段，持续迭代，快速反馈
- **v1.0**: 正式发布，生产就绪，稳定版本

---

## 📊 版本时间线总览

```
v0.1 ──► v0.2 ──► v0.3 ──► v0.4 ──► v0.5 ──► v0.6 ──► v0.7 ──► v0.8 ──► v0.8.1 ──► v0.9 ──► v0.10 ──► v1.0
 ✅      ✅      ✅      ✅      ✅      ✅      ✅      ✅      ✅      ✅      📋      🚀
(基础) (扩展) (测试) (高级) (核心) (高级) (区间) (完善) (文档) (体验) (Web) (生产)
```

**工期统计**:
| 版本区间 | 工期 | 累计工期 | 状态 |
|---------|------|---------|------|
| v0.1-v0.4 | 29.5人日 | 29.5人日 | ✅ 完成 |
| v0.5 | 11人日 | 40.5人日 | ✅ 完成 |
| v0.6 | 实际完成于v0.7 | - | ✅ 合并 |
| v0.7 | 11人日 | 51.5人日 | ✅ 完成 |
| v0.8 | 25人日 | 76.5人日 | ✅ 完成 |
| v0.8.1 | 1-2人日 | 77.5-78.5人日 | ✅ 完成 |
| v0.9 | 4人日 | 81.5-82.5人日 | ✅ 完成 |
| v0.10 | 6人日 | 99.5-100.5人日 | ✅ 完成 |
| v1.0 | 正式发布 | - | 🚀 里程碑 |

**总工期**: **101.5-102.5 人日** (已完成 81.5-82.5 人日)

---

## ✅ v0.1: 项目基础 (2025-01-31 → 2025-02-07)

**状态**: ✅ 完成
**工期**: 5 人日

### 目标
- Git Flow 搭建 (main + develop)
- 文档结构建立
- 进度跟踪系统
- AI 命令集成

### 交付物
- ✅ LICENSE 和 package.json
- ✅ Git 别名配置
- ✅ docs/ 目录结构
- ✅ CLAUDE.md 规范

---

## ✅ v0.2: 首次实现 (2025-02-08 → 2025-02-28)

**状态**: ✅ 完成
**工期**: 3 人日

### 目标
- WSM + WPM 算法实现
- 测试框架搭建
- 基础 CI/CD

### 交付物
- ✅ WSM 算法 (加权算术平均)
- ✅ WPM 算法 (加权几何平均)
- ✅ 基础测试套件
- ✅ YAML 配置支持

---

## ✅ v0.3: 扩展算法 (2025-03-01 → 2025-03-15)

**状态**: ✅ 完成
**工期**: 7 人日

### 目标
- TOPSIS 算法
- ELECTRE-II 算法
- TODIM 算法

### 交付物
- ✅ TOPSIS 算法 (28个测试)
- ✅ ELECTRE-II 算法
- ✅ TODIM 算法 (前景理论)
- ✅ 完整文档

---

## ✅ v0.4: 高级功能 (2026-01-15 → 2026-02-02)

**状态**: ✅ 完成
**工期**: 14.5 人日

### 目标
- ELECTRE-I 算法
- PROMETHEE 算法
- 完整测试验证

### 交付物
- ✅ ELECTRE-I 算法 (37个测试)
- ✅ PROMETHEE 算法 (28个测试)
- ✅ 135 个测试,100% 通过率
- ✅ ~1900 行实现代码
- ✅ 5 星质量评级

### 质量指标
- 测试通过率: 100% (135/135)
- 测试覆盖率: 95%+
- 执行时间: 0.72 秒

---

## ✅ v0.5: 核心扩展 (2026-02-03 → 2026-02-03)

**状态**: ✅ 完成
**工期**: 11 人日
**优先级**: P0 (最高)
**Git Tag**: v0.5.0

### 目标
补全核心算法,建立区间数基础

### 功能清单

| 功能 | 优先级 | 状态 | 测试 |
|------|--------|------|------|
| **VIKOR 算法** | P0 | ✅ 完成 | 32 个测试 |
| **博弈论组合赋权** | P0 | ✅ 完成 | 20 个测试 |
| **区间数数据模型** | P1 | ✅ 完成 | 25 个测试 |
| **TOPSIS 区间版本** | P1 | ✅ 完成 | 包含在区间数中 |

**总工期**: 11 人日（实际）

### 质量指标
- 测试通过率: 100% (77 个新增测试)
- 代码行数: ~7000 行（博弈论组合赋权）
- 测试覆盖率: 85%+

### 分阶段计划

#### Phase 1: VIKOR 算法 (5 人日,1 周)

**目标**: 实现折衷排序算法

**数学模型**:
```
群体效用: S_i = Σ w_j · (x_j^max - x_ij) / (x_j^max - x_j^min)
个别遗憾: R_i = max_j [w_j · (x_j^max - x_ij) / (x_j^max - x_j^min)]
折衷值: Q_i = v · (S_i - S_min) / (S_max - S_min) + (1-v) · (R_i - R_min) / (R_max - R_min)
```

**交付物**:
- VIKOR 算法实现
- 28 个测试
- 折衷解判定逻辑
- 完整文档

**验收标准**:
- [ ] 测试通过率 100%
- [ ] 测试覆盖率 >= 85%
- [ ] 执行时间 < 0.5 秒

#### Phase 2: 博弈论组合赋权 (5 人日,1 周)

**目标**: 集成多种赋权方法

**数学模型**:
```
最优组合: w* = W^T · W⁻¹ · R / (W^T · W⁻¹ · W)
其中:
- W = 方法权重向量
- R = 各方法权重矩阵
```

**交付物**:
- 博弈论组合算法
- YAML 配置支持
- 20 个测试
- 集成文档

**验收标准**:
- [ ] 测试通过率 100%
- [ ] 支持 3+ 种赋权方法组合
- [ ] YAML 配置工作正常

#### Phase 3: 区间数基础支持 (6 人日,1.5 周)

**目标**: 建立区间数数据模型和 TOPSIS 区间版本

**数据模型**:
```python
@dataclass(frozen=True)
class Interval:
    """区间数 [lower, upper]"""
    lower: float
    upper: float

    @property
    def midpoint(self) -> float:
        return (self.lower + self.upper) / 2
```

**交付物**:
- Interval 数据类型
- 区间算术运算
- TOPSIS 区间版本
- 30 个测试

**验收标准**:
- [ ] 测试通过率 100%
- [ ] TOPSIS 区间版本准确性验证
- [ ] 文档完整

#### Phase 4: 集成测试与文档 (3 人日,0.5 周)

**目标**: 确保质量,完善文档

**交付物**:
- 集成测试 (10+ 个)
- API 文档
- 用户指南
- 发布说明

---

## ✅ v0.6: 高级功能 (合并至 v0.7)

**状态**: ✅ 完成（已合并到 v0.7）
**工期**: 已包含在 v0.5/v0.7 中
**优先级**: P1

### 目标
特殊场景决策支持

### 功能清单（已在 v0.5/v0.7 中实现）

| 功能 | 优先级 | 状态 | 测试 |
|------|--------|------|------|
| **德尔菲法** | P2 | ✅ 完成 | 11 个测试 |
| **PCA 主成分分析** | P2 | ✅ 完成 | 32 个测试 |
| **群决策基础** | P1 | ✅ 完成 | 141 个测试 |
| **共识度测量** | P1 | ✅ 完成 | 包含在群决策中 |

**说明**: v0.6 的规划功能已在 v0.5 和 v0.7 中实现，因此不单独发布 v0.6 版本。

### 分阶段计划

#### Phase 1: 德尔菲法 (3 人日)

**目标**: 多轮专家咨询

**数据模型**:
```python
@dataclass(frozen=True)
class DelphiProcess:
    """德尔菲法过程"""
    rounds: list[DelphiRound]
    max_rounds: int = 3
    convergence_threshold: float = 0.05
```

**交付物**:
- 多轮评分管理
- 收敛检查
- 统计摘要生成

#### Phase 2: PCA 主成分分析 (4 人日)

**目标**: 客观赋权方法

**数学模型**:
```
1. 标准化决策矩阵
2. 计算协方差矩阵
3. 特征值分解
4. 提取主成分权重
```

**交付物**:
- PCA 赋权算法
- 特征值分解
- 主成分选择策略

#### Phase 3: 群决策基础 (5 人日)

**目标**: 多决策者支持

**数据模型**:
```python
@dataclass(frozen=True)
class GroupDecisionProblem:
    """群决策问题"""
    base_problem: DecisionProblem
    decision_makers: list[DecisionMaker]
    individual_scores: dict[str, dict[str, dict[str, float]]]
```

**交付物**:
- DecisionMaker 数据模型
- 加权平均聚合
- 共识度测量

---

## ✅ v0.7: 区间/模糊扩展 (2026-02-04)

**状态**: ✅ 完成
**工期**: 11 人日
**优先级**: P1
**Git Tag**: v0.7.0

### 目标
全面扩展区间数支持，完成群决策功能

### 功能清单

| 功能 | 优先级 | 状态 | 测试 |
|------|--------|------|------|
| **VIKOR 区间版本** | P1 | ✅ 完成 | 38 个测试 |
| **TODIM 区间版本** | P1 | ✅ 完成 | 8 个测试 |
| **可能度排序** | P1 | ✅ 完成 | 25 个测试 |
| **群决策功能** | P1 | ✅ 完成 | 141 个测试 |
| **PCA 主成分分析** | P2 | ✅ 完成 | 32 个测试 |
| **德尔菲法** | P2 | ✅ 完成 | 11 个测试 |

**总工期**: 11 人日（实际）

### 质量指标
- 测试通过率: 100% (255 个测试)
- 代码行数: ~10000 行（区间算法 + 群决策）
- 测试覆盖率: 90%+
- 执行时间: < 2 秒

### 集成测试
- ✅ 区间算法与精确值对比测试
- ✅ 性能测试（50×20 矩阵 < 5 秒）
- ✅ 端到端决策流程测试

### 分阶段计划

#### Phase 1: TODIM 区间版本 (3 人日)

**目标**: 前景理论 + 区间数

**挑战**:
- 区间前景理论
- 损失厌恶参数处理

#### Phase 2: ELECTRE-I 区间版本 (4 人日)

**目标**: 级别优于关系 + 区间数

**挑战**:
- 区间和谐指数
- 区间不和谐指数
- 区间核提取

#### Phase 3: PROMETHEE 区间版本 (4 人日)

**目标**: 偏好函数 + 区间数

**挑战**:
- 区间偏好函数
- 区间流计算

#### Phase 4: 模糊数基础 (4 人日)

**目标**: 三角模糊数支持

**数据模型**:
```python
@dataclass(frozen=True)
class TriangularFuzzy:
    """三角模糊数 (a, b, c)"""
    a: float  # 最小值
    b: float  # 中值
    c: float  # 最大值

    @property
    def defuzzified(self) -> float:
        return (self.a + self.b + self.c) / 3
```

---

## ✅ v0.8: 核心功能完善与验证 (2026-02-04)

**状态**: ✅ 完成
**工期**: 25 人日 (5 周)
**优先级**: P0 (最高)
**Git Tag**: v0.8.0
**方法**: TDD 方法论严格遵循

### 目标
功能验证与完善，补全区间算法

### 功能清单

| 功能 | 优先级 | 工期 | 状态 |
|------|--------|------|------|
| **功能验证与完善** | P0 | 5人日 | ✅ 完成 |
| ├─ 验证博弈论组合赋权 | P0 | 1人日 | ✅ 完成 |
| ├─ 验证群决策功能 | P0 | 2人日 | ✅ 完成 |
| ├─ 验证 PCA 权重计算 | P0 | 1人日 | ✅ 完成 |
| └─ 集成测试与 Bug 修复 | P0 | 1人日 | ✅ 完成 |
| **算法补全** | P0 | 8人日 | ✅ 完成 |
| ├─ ELECTRE-I 区间版本 | P0 | 4人日 | ✅ 完成 |
| └─ PROMETHEE 区间版本 | P0 | 4人日 | ✅ 完成 |
| **区间 TOPSIS** | P0 | 3人日 | ✅ 完成 |
| **文档完善** | P0 | 7人日 | ✅ 完成 |
| ├─ API 文档更新 | P0 | 3人日 | ✅ 完成 |
| ├─ 使用教程编写 | P0 | 3人日 | ✅ 完成 |
| └─ 性能优化与发布准备 | P0 | 1人日 | ✅ 完成 |

**总工期**: 25 人日（实际）

### 质量指标
- 测试通过率: 100% (58 个新增测试)
- 代码行数: 1,280 行实现代码
- 测试覆盖率: 90%+
- 执行时间: ~1.5 秒
- 文档行数: 2,650+ 行

### 分阶段计划

详见: [v0.8 执行计划](./mcda-core/v0.8/execution-plan.md)

**Phase 1: 功能验证与完善** (5 人日, 1 周)
- 验证 v0.5/v0.6 已实现功能的正确性
- 博弈论组合赋权、群决策、PCA 权重计算
- 集成测试与 Bug 修复

**Phase 2: 算法补全** (8 人日, 1.5 周)
- ELECTRE-I 区间版本实现
- PROMETHEE 区间版本实现

**Phase 3: 区间 TOPSIS** (可选, 3 人日)

**Phase 4: 文档完善** (7 人日, 1.5 周)
- API 文档更新
- 使用教程编写
- 性能优化与发布准备

---

## ✅ v0.8.1: 文档补充 (2026-02-04)

**状态**: ✅ 完成
**工期**: 1-2 人日
**优先级**: P2
**Git Tag**: v0.8.1

### 目标
补充 v0.8 遗留的文档，完善 TOPSIS 区间版本使用指南

### 功能清单

| 功能 | 优先级 | 工期 | 状态 |
|------|--------|------|------|
| **TOPSIS 区间版本文档** | P2 | 1-2人日 | ✅ 完成 |
| ├─ 算法使用指南 | P2 | 0.5人日 | ✅ 完成 |
| ├─ 算法详解文档 | P2 | 0.5人日 | ✅ 完成 |
| └─ 示例代码补充 | P2 | 0.5人日 | ✅ 完成 |

**总工期**: 1-2 人日（实际）

### 交付物
- ✅ TOPSIS 区间版本使用指南（400 行）
- ✅ TOPSIS 区间版本算法详解（350 行）
- ✅ 3 个 Python 示例代码（660 行）
- ✅ 1 个 Jupyter Notebook 教程
- ✅ 13 个文档测试

### 质量指标
- 文档覆盖率: 100%（TOPSIS 区间算法）
- 示例可运行性: 100%
- 测试通过率: 100% (33/33)
- 文档风格: 与 ELECTRE-I、PROMETHEE II 一致

---

## ✅ v0.9: 用户优化版本 (2026-02-05)

**状态**: ✅ 完成
**工期**: 4 人日
**优先级**: P1
**Git Tag**: v0.9.0
**开发方法**: TDD（测试驱动开发）

### 目标
降低用户使用门槛，提升易用性和可视化能力

### 功能清单

| 功能 | 优先级 | 工期 | 状态 | 测试 |
|------|--------|------|------|------|
| **CSV/Excel 数据导入** | P0 | 1.5人日 | ✅ 完成 | 14/14 |
| ├─ CSV Loader | P0 | 0.5人日 | ✅ 完成 | 7个测试 |
| ├─ Excel Loader | P0 | 0.5人日 | ✅ 完成 | 7个测试 |
| └─ LoaderFactory 集成 | P0 | 0.5人日 | ✅ 完成 | - |
| **可视化增强** | P1 | 1.5人日 | ✅ 完成 | 7/7 |
| ├─ ChartGenerator 类 | P1 | 1人日 | ✅ 完成 | 7个测试 |
| ├─ 排名柱状图 | P1 | - | ✅ 完成 | - |
| ├─ 敏感性分析图 | P1 | - | ✅ 完成 | - |
| ├─ 权重饼图 | P1 | - | ✅ 完成 | - |
| └─ 区间数对比图 | P1 | - | ✅ 完成 | - |
| **CLI 优化** | P1 | 0.5人日 | ✅ 完成 | - |
| ├─ CSV/Excel 自动检测 | P1 | - | ✅ 完成 | - |
| └─ 错误提示优化 | P1 | - | ✅ 完成 | - |
| **Markdown 报告模板** | P2 | 0.5人日 | ✅ 完成 | - |
| └─ 基础报告模板 | P2 | - | ✅ 完成 | - |
| **文档归档** | P1 | 0.5人日 | ✅ 完成 | - |
| ├─ v0.8/v0.8.1 归档 | P1 | - | ✅ 完成 | - |
| └─ checkpoint 更新 | P1 | - | ✅ 完成 | - |

**总工期**: 4 人日（实际）

### 质量指标
- 测试通过率: 100% (21/21 新增测试)
- 代码行数: 792 行实现代码
- 测试覆盖率: 100%
- 执行时间: 2.05 秒（loader 测试）
- 文档行数: 1,200+ 行

### 交付物
- ✅ CSV Loader (226 行，7 个测试)
- ✅ Excel Loader (306 行，7 个测试)
- ✅ ChartGenerator (260 行，7 个测试)
- ✅ 用户模板（CSV/Excel）
- ✅ TDD 进度文件（7 个）
- ✅ 完成报告和总结

### 验收标准
- [x] CSV/Excel 数据导入功能完整
- [x] 支持区间数格式
- [x] 可视化图表美观专业
- [x] CLI 自动检测格式
- [x] 文档归档完整

### 分阶段计划

#### Phase 1: CLI 用户体验优化 (2 人日)

**目标**: 提升命令行易用性

**改进点**:
- 更友好的命令行参数（支持短选项和长选项）
- 清晰的错误提示和建议
- 交互式帮助文档
- 进度条和实时反馈

**示例**:
```bash
# 优化前
python -m mcda_core calculate data.yaml --algorithm topsis

# 优化后
mcda calculate data.yaml -a topsis --verbose
```

#### Phase 2: 可视化增强 (3 人日)

**目标**: 丰富的结果可视化

**可视化内容**:
- 结果排名柱状图/条形图
- 敏感性分析折线图
- 多算法结果对比图
- 权重分布雷达图
- 准则得分热力图

**技术栈**:
- matplotlib / plotly（静态图）
- 支持导出 PNG/SVG/PDF

#### Phase 3: 报告模板系统 (2 人日)

**目标**: 自动生成专业决策报告

**模板类型**:
- Markdown 模板（默认）
- HTML 模板（可选）
- PDF 报告（可选）

**报告内容**:
- 决策问题摘要
- 算法选择说明
- 结果排名和得分
- 敏感性分析
- 可视化图表
- 决策建议

#### Phase 4: 文档归档 (1 人日)

**目标**: 整理和归档旧文档

**归档内容**:
- v0.8 进度文档 → `docs/archive/mcda-core/v0.8/`
- 更新 `checkpoint-complete.md`
- 清理临时文档

### 验收标准
- [ ] CLI 命令简洁易用
- [ ] 错误提示清晰友好
- [ ] 可视化图表美观专业
- [ ] 报告生成自动化
- [ ] 文档归档完整

---

## 📋 v0.10: 一票否决机制 ✅

**状态**: ✅ 已完成（2026-02-05）
**工期**: 6 人日（实际）vs 20 人日（原计划）
**优先级**: P0
**开发性质**: 0.x.x 开发版本

### 目标
实现企业级决策场景的一票否决机制（Veto Mechanism）

### 范围调整
**原计划**: Web UI + API + 一票否决（20 人日）
**实际完成**: 一票否决机制（6 人日）
**调整原因**: 专注 AI 协作开发场景，移除 Web UI 和 REST API

### 功能清单

| 功能 | 优先级 | 工期 | 状态 |
|------|--------|------|------|
| **一票否决机制** | P0 | 6人日 | ✅ 完成 |
| ├─ 数据模型设计 | P0 | 1人日 | ✅ 完成 |
| ├─ VetoEvaluator 实现 | P0 | 2人日 | ✅ 完成 |
| ├─ ConstraintService 实现 | P0 | 1.5人日 | ✅ 完成 |
| ├─ CLI 集成 | P0 | 1人日 | ✅ 完成 |
| └─ 测试和文档 | P0 | 0.5人日 | ✅ 完成 |
| ~~Web UI~~ | P0 | ~~6人日~~ | ❌ 移除 |
| ~~API 接口~~ | P0 | ~~4人日~~ | ❌ 移除 |

**实际工期**: 6 人日（30% 原计划）

### 分阶段计划（已完成）

#### Phase 1: 一票否决机制 (6 人日) ✅

**目标**: 实现约束和否决功能，满足企业级决策场景

**业务场景**:
- 供应商准入资质评估（硬否决）
- 项目风险评估（分级否决）
- 合同风险评估（组合否决）

**技术实现**:
- **数据模型**: VetoConfig, VetoCondition, VetoResult
- **评估器**: VetoEvaluator（支持 hard/soft/tiered/composite）
- **服务层**: ConstraintService（过滤和惩罚）
- **集成点**: 扩展 Criterion 模型（添加 veto 字段）

**分阶段实施**:
1. **硬否决** (1.5人日, P0)
   - 营业执照、资质等级等合规性指标
   - 不满足条件直接排除
2. **软否决** (1人日, P0)
   - 财务风险评分、诉讼记录等风险指标
   - 不满足条件扣分惩罚
3. **分级否决** (1.5人日, P1)
   - 技术风险、资金风险等多档位管理
   - 低风险接受/中风险警告/高风险拒绝
4. **组合否决** (1.5人日, P2)
   - 付款条款风险、违约责任风险等复杂逻辑
   - AND/OR 组合判断
5. **集成与测试** (0.5人日, P0)
   - CLI 集成、单元测试、文档

**详细设计**: 参见 [ADR-014: 一票否决机制](../../decisions/mcda-core/014-veto-mechanism.md)

**完成情况**: ✅ 所有功能已完成并测试通过（41/41 测试）

#### ~~Phase 2: Web UI~~ ❌ 已移除

**移除原因**: AI 协作开发场景不需要 Web UI，直接使用 CLI 和 Python API 更高效

**未来规划**: 如有非技术用户使用需求，可在 v1.0 或后续版本考虑

#### ~~Phase 3: API 接口~~ ❌ 已移除

**移除原因**: Python 库直接调用比 REST API 更高效，减少网络开销

**未来规划**: 如需跨语言集成，可在 v1.0 或后续版本考虑

---

### 完成总结

#### 测试统计
- 总测试数: 41 个
- 通过率: 100%
- 代码覆盖率: ~90%

#### 代码统计
- 实现代码: ~900 行
- 测试代码: ~800 行
- 文档: ~400 行

#### 质量评分
- 测试通过率: ⭐⭐⭐⭐⭐ (100%)
- 代码覆盖率: ⭐⭐⭐⭐⭐ (~90%)
- 类型注解: ⭐⭐⭐⭐⭐ (100%)
- 文档完整性: ⭐⭐⭐⭐⭐ (100%)

#### 技术亮点
1. 完整的 TDD 流程（RED → GREEN → REFACTOR）
2. 清晰的职责分离（模型 → 评估器 → 服务 → CLI）
3. 向后兼容（通过 `--apply-constraints` 选项启用）
4. 丰富的使用示例和文档

#### Git 提交
- `8bf8cfa`: Phase 1.1-1.2（核心功能）
- `4013fd2`: checkpoint 更新
- `1c221bf`: Phase 1.3-1.4（服务层 + CLI）
- `d494413`: Phase 1.5（文档和示例）

#### 相关文档
- ✅ [ADR-014: 一票否决机制架构设计](../../decisions/mcda-core/014-veto-mechanism.md)
- ✅ [v0.10 完成报告](../../active/mcda-core/v0.10/completion-report.md)
- ✅ [使用示例文档](../../active/mcda-core/v0.10/veto-examples.md)
- ✅ [TDD 进度文件](../../active/mcda-core/v0.10/tdd-veto-constraints.md)
- POST /api/algorithms/{name}/calculate - 执行算法
- GET /api/algorithms - 获取算法列表
- **POST /api/constraints/validate - 验证否决规则**（新增）

#### Phase 4: 数据导入导出 (2 人日)

**目标**: 复用 v0.9 CSV/Excel Loader

**已有功能**:
- ✅ CSV Loader (v0.9)
- ✅ Excel Loader (v0.9)
- ✅ JSON/YAML Loader (已有)

**新增功能**:
- 导出格式扩展
- 批量导入
- 格式验证增强

#### Phase 5: 报告生成 (1 人日)

**目标**: 自动生成决策报告

**已有功能**:
- ✅ Markdown 报告模板 (v0.9)

**新增功能**:
- HTML 报告生成
- PDF 报告生成（可选）
- **否决结果展示**（新增）

#### Phase 6: 部署文档 (1 人日)

**目标**: 完整的部署指南

**文档**:
- Docker 配置和部署
- 本地开发环境搭建
- API 使用指南
- **否决规则配置指南**（新增）
- 故障排查手册

### 验收标准
- [ ] 一票否决功能完整（hard/soft/tiered/composite）
- [ ] Web UI 可用性测试通过
- [ ] API 接口测试覆盖率 ≥ 85%
- [ ] 数据导入导出功能完整
- [ ] 报告生成功能完整
- [ ] 部署文档清晰完整
- [ ] **否决规则配置示例完整**（新增）

---

## 🚀 v1.0: 正式发布 (预计 2026-03-XX)

**状态**: 📋 计划中
**优先级**: P0
**发布性质**: 正式稳定版本

### 目标
生产就绪，稳定可靠，用户友好

### 发布标准

| 类别 | 标准 | 状态 |
|------|------|------|
| **功能完整性** | 所有核心功能可用 | 📋 待验证 |
| **测试覆盖率** | ≥ 90% | 📋 待验证 |
| **性能指标** | 响应时间 < 2s | 📋 待验证 |
| **文档完整性** | 用户文档 + API 文档 | 📋 待验证 |
| **部署就绪** | Docker + 云部署指南 | 📋 待验证 |
| **用户反馈** | Beta 测试通过 | 📋 待验证 |

### 发布清单

- [ ] 代码冻结和稳定化
- [ ] 完整回归测试
- [ ] 性能测试和优化
- [ ] 安全审计
- [ ] 用户验收测试
- [ ] 文档完善
- [ ] 发布说明编写
- [ ] Git tag 创建
- [ ] PyPI 发布（可选）
- [ ] 公告和推广

---

## 📊 版本对比矩阵

### 功能演进

| 功能类别 | v0.4 | v0.5 | v0.7 | v0.8 | v0.8.1 | v0.9 | v0.10 | v1.0 |
|---------|:----:|:----:|:----:|:----:|:------:|:----:|:-----:|:----:|
| **算法数量** | 4 | 5 | 5 | 5 | 5 | 5 | 5+ | 5+ |
| TOPSIS | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| TOPSIS 区间 | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| TODIM | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| TODIM 区间 | ❌ | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| ELECTRE-I | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| ELECTRE-I 区间 | ❌ | ❌ | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ |
| PROMETHEE | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| PROMETHEE 区间 | ❌ | ❌ | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ |
| VIKOR | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| VIKOR 区间 | ❌ | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| **赋权方法** | 3 | 5 | 5 | 5 | 5 | 5 | 5 | 5 |
| AHP | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 熵权法 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| CRITIC | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| CV 系数法 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 博弈论组合 | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| PCA | ❌ | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| **特殊场景** | - | - | - | - | - | - | - | - |
| 区间数 | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 可能度排序 | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 群决策 | ❌ | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 德尔菲法 | ❌ | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 共识度测量 | ❌ | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| **UI/UX** | - | - | - | - | - | - | - | - |
| CLI | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| Web UI | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | 🟡 | ✅ |
| **其他** | - | - | - | - | - | - | - | - |
| 敏感性分析 | 🟡 | 🟡 | 🟡 | ✅ | ✅ | ✅ | ✅ | ✅ |
| 可视化图表 | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ | ✅ | ✅ |
| API 接口 | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | 🟡 | ✅ |
| CSV/Excel 导入 | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ | ✅ | ✅ |
| 数据导出 | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | 🟡 | ✅ |
| Markdown 报告 | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ | ✅ | ✅ |
| HTML/PDF 报告 | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | 🟡 | ✅ |

**图例**:
- ✅ 完全支持
- 🟡 部分支持/基础版本/规划中
- ❌ 不支持

### 质量指标演进

| 指标 | v0.4 | v0.5 | v0.7 | v0.8 | v0.8.1 | v0.9 | v0.10 | v1.0 |
|------|:----:|:----:|:----:|:----:|:------:|:----:|:-----:|:----:|
| **算法数量** | 4 | 5+ | 5+ | 5+ | 5+ | 5+ | 5+ | 5+ |
| **测试数量** | 135 | 212 | 467 | 582 | 582 | 617+ | 650+ | 700+ |
| **测试覆盖率** | 95% | 85% | 90% | 90%+ | 90%+ | 100% | 90%+ | 95%+ |
| **代码行数** | 1900 | 9000+ | 11000+ | 12000+ | 12000+ | 13000+ | 15000+ | 16000+ |
| **文档行数** | 3800 | 4500 | 8000+ | 9000+ | 9500+ | 11000+ | 13000+ | 15000+ |
| **执行时间** | 0.72s | 1.2s | 2.0s | 1.8s | 1.8s | 2.0s | 3.0s | 3.0s |

---

## 🎯 关键里程碑

### M1: MVP 完成 (v0.1) ✅
**日期**: 2025-02-07
**标志**: 项目基础搭建完成

### M2: 基础算法完成 (v0.2-v0.3) ✅
**日期**: 2025-03-15
**标志**: 4 个核心算法可用

### M3: 高级功能完成 (v0.4) ✅
**日期**: 2026-02-02
**标志**: 5 个算法,135 个测试,5 星质量

### M4: 核心扩展完成 (v0.5) ✅
**日期**: 2026-02-03
**标志**: VIKOR + 博弈论组合 + 区间数基础

### M5: 高级场景支持 (v0.6) ✅
**日期**: 合并至 v0.5/v0.7
**标志**: 群决策 + PCA + 德尔菲法

### M6: 不确定性支持 (v0.7) ✅
**日期**: 2026-02-04
**标志**: VIKOR/TODIM 区间版本 + 群决策 + 可能度排序

### M7: 功能完善 (v0.8) ✅
**日期**: 2026-02-04
**标志**: ELECTRE-I/PROMETHEE/TOPSIS 区间版本 + 功能验证 + 文档完善

### M8: 文档补充 (v0.8.1) ✅
**完成日期**: 2026-02-04
**标志**: TOPSIS 区间版本文档补充

### M9: 用户优化 (v0.9) ✅
**完成日期**: 2026-02-05
**标志**: CSV/Excel 导入 + 可视化增强 + 用户体验优化

### M10: Web UI 集成 (v0.10) 📋
**预计日期**: 2026-03-XX
**标志**: Web UI + API 接口

### M11: 正式发布 (v1.0) 🚀
**预计日期**: 2026-03-XX
**标志**: 生产就绪 + 稳定版本

---

## 📈 风险管理

### 高风险项

| 风险 | 影响 | 概率 | 缓解措施 |
|------|------|------|---------|
| **Web UI 开发复杂度超预期** | 高 | 中 | v0.10 分阶段实施，先做核心功能 |
| **API 性能不满足需求** | 中 | 低 | v0.10 专门优化，可选缓存和异步 |
| **前后端集成问题** | 中 | 中 | 预留缓冲时间，使用成熟框架 |
| **用户需求变化** | 高 | 低 | 敏捷迭代，v0.10 收集反馈用于 v1.0 |

### 应急计划

**场景1: v0.10 Web UI 延迟**
- 策略: 分阶段发布，先发布 CLI + API 版本
- 触发条件: v0.10 工期超过 30 人日

**场景2: API 性能不达标**
- 策略: 引入缓存和异步处理，降低响应时间要求
- 触发条件: 性能测试超过 5 秒

**场景3: 前后端集成问题**
- 策略: 使用现成 UI 组件库，降低自定义程度
- 触发条件: 原型验证失败

---

## 🔗 相关文档

### 架构决策 (ADR)
- [ADR-001: 分层架构设计](../decisions/mcda-core/001-mcda-layered-architecture.md)
- [ADR-004: 汇总算法架构设计](../decisions/mcda-core/004-mcda-aggregation-algorithms.md)
- [ADR-007: 区间数/模糊数 MCDA](../decisions/mcda-core/007-interval-fuzzy-mcda-architecture.md)
- [ADR-008: 群决策聚合策略](../decisions/mcda-core/008-group-decision-aggregation-strategy.md)
- [ADR-009: v0.5 版本规划调整](../decisions/mcda-core/009-v0.5-roadmap-adjustment.md)

### 进度文档
- [v0.4 进度总结](../active/mcda-core/v0.4/progress-summary.md)
- [v0.5 规划 checkpoint](../checkpoints/mcda-core/checkpoint-v0.5-planning-complete.md)

### 执行计划
- [v0.5 执行计划](./mcda-core/v0.5/execution-plan.md) - 待创建

---

## 📝 变更历史

| 日期 | 版本 | 变更内容 | 作者 |
|------|------|---------|------|
| 2026-02-05 | v1.3 | 更新 v0.9 完成状态，调整版本策略（v1.0 → v0.10 + v1.0） | AI |
| 2026-02-04 | v1.2 | 更新 v0.8 完成状态，添加 v0.8.1 和 v0.9 规划 | AI |
| 2026-02-04 | v1.1 | 更新 v0.5/v0.6/v0.7 完成状态，更新 v0.8 规划 | AI |
| 2026-02-03 | v1.0 | 合并旧 roadmap 和新 roadmap,形成完整版本路线图 | AI |
| 2025-01-31 | v0.1 | 初始版本,创建项目级 roadmap | hunkwk + AI |

---

**维护者**: hunkwk + AI
**最后更新**: 2026-02-05
**下次审查**: v0.10 完成后
