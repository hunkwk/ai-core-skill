# MCDA Core 版本规划历史

**项目**: MCDA Core (多准则决策分析核心库)
**维护者**: hunkwk + AI
**最后更新**: 2026-02-05

---

## 📋 版本规划调整记录

本文档记录 mcda-core 项目开发过程中的版本规划变更和调整决策。

---

## ADR-009: v0.5 版本规划调整 (2026-02-03)

**状态**: ✅ 已接受

### 背景

原 v0.5 规划包含核心扩展功能（博弈论组合赋权、区间数基础），但：
- 博弈论组合赋权已在 v0.5 之前实现（20 个测试通过）
- 区间数数据模型尚未实现
- 需要明确 v0.5 的核心目标

### 决策

**保留博弈论组合赋权在 v0.5**，作为核心扩展功能的一部分。

**调整后的 v0.5 规划**:
- VIKOR 算法
- 博弈论组合赋权（已完成）
- 区间数数据模型
- TOPSIS 区间版本

### 影响

- 博弈论组合赋权正式纳入 v0.5
- v0.5 功能更清晰明确

---

## ADR-010: v0.7 版本规划调整 (2026-02-04)

**状态**: ✅ 已接受

### 背景

**v0.6 已完成** ✅ (2026-02-04)
- 群决策基础模型 (DecisionMaker, GroupDecisionProblem)
- PCA 主成分分析赋权
- 高级聚合方法 (Borda Count, Copeland, 加权几何平均)
- 德尔菲法 (Delphi Method)
- 共识度测量
- 群决策服务

**发现**: v0.6 的规划功能已经提前完成。

### 决策

**直接进入 v0.7 开发**，跳过单独的 v0.6 发布。

**v0.7 核心目标**: 全面扩展区间数支持，完成群决策功能。

**v0.7 功能清单**:
- VIKOR 区间版本 (38 个测试)
- TODIM 区间版本 (8 个测试)
- 可能度排序 (25 个测试)
- 群决策功能 (141 个测试，已完成)
- PCA 主成分分析 (32 个测试，已完成)
- 德尔菲法 (11 个测试，已完成)

### 影响

- v0.6 功能合并到 v0.7
- 版本节奏加速，避免小版本碎片化
- v0.7 成为一个功能丰富的版本

---

## ADR-011: v0.8 版本策略调整 (2026-02-04)

**状态**: ✅ 已接受

### 背景

### 原始规划
- v0.5: 核心扩展（博弈论组合赋权、区间数基础）
- v0.6: 高级功能（德尔菲法、PCA、群决策）
- v0.7: 区间/模糊扩展（VIKOR/TODIM 区间版本）

### 发现问题

经过代码审查发现：
1. **v0.5 的博弈论组合赋权已实现**（20 个测试通过）
2. **v0.6 的群决策功能已实现**（141 个测试通过）

### 决策

**将 v0.5/v0.6 未完成事项合并到 v0.8 统一规划**。

**v0.8 新定位**: 核心功能完善与验证版本。

**调整后的 v0.5-v0.8 规划**:
- **v0.5**: VIKOR + 博弈论组合 + 区间数基础
- **v0.6**: 取消（功能合并到 v0.5/v0.7）
- **v0.7**: VIKOR/TODIM 区间版本 + 群决策
- **v0.8**: 算法补全（ELECTRE-I/PROMETHEE/TOPSIS 区间版本）+ 文档完善

### 影响

- 版本更清晰，每个版本有明确的核心目标
- v0.8 成为功能验证和完善的版本
- 避免版本碎片化

---

## ADR-012: v0.8 后版本规划调整 (2026-02-04)

**状态**: ✅ 已接受

### 背景

v0.8 版本已完成核心功能开发，但遗留了 TOPSIS 区间版本文档未补充。原计划直接进入 v1.0 开发（Web UI + API），但考虑到：

1. **文档完整性**: v0.8 已实现 ELECTRE-I、PROMETHEE II、TOPSIS 三个区间算法，但只有前两个有完整文档
2. **用户友好性**: 补充文档可以提高用户使用体验
3. **版本节奏**: 从 v0.8 直接到 v1.0 跨度较大，中间需要过渡版本
4. **用户体验优化**: v0.9 专注于 CLI 优化和可视化，为 v1.0 Web UI 做准备

### 决策

**插入 v0.8.1 和 v0.9 两个过渡版本**，再进入 v1.0。

**新版本规划**:
- **v0.8.1**: 文档补充版本（1-2 人日）
  - TOPSIS 区间版本文档补充
  - 算法使用指南
  - 示例代码

- **v0.9**: 用户优化版本（5-8 人日）
  - CLI 用户体验优化
  - 可视化增强（matplotlib 图表）
  - 报告模板系统
  - 文档归档

- **v1.0**: 生产就绪版本（20 人日）
  - Web UI (React + Tailwind CSS)
  - API 接口 (FastAPI)
  - 数据导入导出
  - 报告生成
  - 部署文档

### 影响

- 版本节奏更合理
- 文档完整性提升
- 用户体验逐步优化

---

## ADR-013: v0.9 版本规划调整 - 增加 CSV/Excel 导入功能 (2026-02-05)

**状态**: ✅ 已接受

### 背景

### 原始 v0.9 规划

根据 ADR-012，v0.9 原计划为"用户优化版本"：

**原功能清单**:
1. CLI 用户体验优化（2 人日）
2. 可视化增强（3 人日）
3. 报告模板系统（2 人日）
4. 文档归档（1 人日）

**总工期**: 5-8 人日

### 新增需求

用户反馈：**JSON/YAML 配置格式技术门槛较高**，希望支持：
- CSV 格式导入
- Excel 格式导入

### 用户价值分析

| 指标 | 评估 |
|------|------|
| 用户需求强度 | ⭐⭐⭐⭐⭐ (非常高) |
| 降低技术门槛 | ⭐⭐⭐⭐⭐ (显著) |
| 实现难度 | ⭐⭐⭐ (中等) |
| 对现有功能影响 | ⭐ (低) |

### 决策

**在 v0.9 中增加 CSV/Excel 数据导入功能**。

**调整后的 v0.9 规划**:

| 功能 | 优先级 | 工期 | 状态 |
|------|--------|------|------|
| **CSV/Excel 数据导入** | **P0** | **2 人日** | **新增** |
| ├─ CSV Loader | P0 | 0.5人日 | 新增 |
| ├─ Excel Loader | P0 | 0.5人日 | 新增 |
| └─ LoaderFactory 集成 | P0 | 1人日 | 新增 |
| **可视化增强** | P1 | 2人日 | 压缩 |
| **CLI 优化** | P1 | 1.5人日 | 压缩 |
| **报告模板** | P2 | 1人日 | 压缩 |
| **文档归档** | P1 | 0.5人日 | 保持 |

**新总工期**: 7 人日（比原计划增加 1-2 人日）

### 实施方案

**Phase 1: CSV/Excel 数据导入（2 人日）**:
1. 创建 CSVLoader 类（基于 pandas）
2. 创建 ExcelLoader 类（基于 openpyxl）
3. 扩展 LoaderFactory 支持自动检测
4. 支持区间数格式（`"80,90"` 或 `"[80,90]"`）
5. 完善错误处理和中文提示

**Phase 2-4**: 原有功能压缩执行

### 验收标准

- [ ] CSV Loader 支持标准格式和区间数
- [ ] Excel Loader 支持 .xlsx/.xlsm 格式
- [ ] CLI 自动检测文件格式
- [ ] 完整的错误处理和中文提示
- [ ] 单元测试覆盖率 ≥ 85%

### 影响

- v0.9 更具用户价值
- CSV/Excel 导入成为 v0.9 亮点功能
- 工期略有增加（7-8 人日）

---

## 版本规划演进总结

### 版本时间线

```
v0.1 ──► v0.2 ──► v0.3 ──► v0.4 ──► v0.5 ──► v0.7 ──► v0.8 ──► v0.8.1 ──► v0.9 ──► v0.10 ──► v1.0
 ✅      ✅      ✅      ✅      ✅      ✅      ✅      ✅      ✅      📋      🚀
(基础) (扩展) (测试) (高级) (核心) (区间) (完善) (文档) (体验) (Web) (生产)
```

### 规划调整次数统计

| 版本 | 调整次数 | 主要调整内容 |
|------|----------|--------------|
| v0.5 | 1 | 博弈论组合赋权纳入 |
| v0.6 | 1 | 取消，合并到 v0.7 |
| v0.7 | 1 | 跳过 v0.6 直接发布 |
| v0.8 | 2 | 合并 v0.5/v0.6 未完成事项 |
| v0.8.1 | 1 | 新增文档补充版本 |
| v0.9 | 2 | 新增 CSV/Excel 导入功能 |
| v0.10 | 1 | 新增一票否决功能（规划中） |
| v1.0 | 1 | 明确为正式稳定版本 |

**总调整次数**: 10 次

### 规划原则

1. **用户价值优先**: 优先实现用户需求（如 CSV/Excel 导入、一票否决）
2. **版本聚焦**: 每个版本有明确的核心目标
3. **避免碎片化**: 合并小版本，避免过度细分
4. **文档完整性**: 补充文档提升用户体验
5. **渐进式优化**: 从 0.x.x 到 v1.0 稳步推进

---

## 参考资料

### 相关 ADR
- ADR-009: v0.5 版本规划调整
- ADR-010: v0.7 版本规划调整
- ADR-011: v0.8 版本策略调整
- ADR-012: v0.8 后版本规划调整
- ADR-013: v0.9 版本规划调整

### 版本规划文档
- [完整版本路线图](../../plans/mcda-core/roadmap-complete.md)
- [v0.9 执行计划](../../active/mcda-core/v0.9/v0.9-execution-plan.md)

---

**文档维护**: 本文档随版本规划调整持续更新
**下次审查**: v0.10 规划完成后
