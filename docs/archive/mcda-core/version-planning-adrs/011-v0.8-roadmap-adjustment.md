# ADR: v0.8 版本策略调整

**状态**: 已接受
**日期**: 2026-02-04
**决策**: 将 v0.5/v0.6 未完成事项合并到 v0.8 统一规划

---

## 📋 背景

### 原始规划
- v0.5: 核心扩展（博弈论组合赋权、区间数基础）
- v0.6: 高级功能（德尔菲法、PCA、群决策）
- v0.7: 区间/模糊扩展（VIKOR/TODIM 区间版本）

### 发现问题

经过代码审查发现：
1. **v0.5 的博弈论组合赋权已实现**（20 个测试通过）
2. **v0.6 的群决策功能已实现**（141 个测试通过）
3. **v0.6 的 PCA 权重计算已实现**（32 个测试通过）

### 需求澄清

用户明确要求：
> "mcda-core完成全部开发和测试之后再发布v1.0.0版本，再没有完成之前，持续小版本迭代，小版本可以超过v0.10"

---

## 💡 决策

### 版本策略调整

**新策略**: 功能验证 + 算法补全 + 文档完善

```
v0.7 ✅ - 区间决策支持（已完成）
  ↓
v0.8 🚀 - 核心功能完善（合并 v0.5/v0.6 事项）
  ├─ Phase 1: 功能验证与完善（5 人日）
  ├─ Phase 2: 算法补全（8 人日）
  │   ├─ ELECTRE-I 区间版本（4 人日）
  │   └─ PROMETHEE 区间版本（4 人日）
  ├─ Phase 3: 区间 TOPSIS（可选，3 人日）
  └─ Phase 4: 文档完善（7 人日）
  ↓
v0.9 - 模糊数支持
  ↓
v1.0 - 生产就绪
```

### 关键调整点

1. **功能验证优先**
   - 先验证 v0.5/v0.6 功能的完整性
   - 补充缺失的测试
   - 修复发现的 Bug

2. **算法补全**
   - ELECTRE-I 区间版本
   - PROMETHEE 区间版本
   - 区间 TOPSIS（如未实现）

3. **文档完善**
   - API 文档更新
   - 使用教程编写
   - 性能优化

---

## 📊 决策依据

### 优势

1. **功能完整**
   - 确保所有核心功能经过验证
   - 补全算法家族的区间支持

2. **质量保证**
   - 充分的测试覆盖
   - 文档完善
   - 性能优化

3. **版本管理**
   - 合并相关功能到同一版本
   - 简化版本规划
   - 提高开发效率

### 劣势

1. **工期较长**
   - 25 人日（5 周）
   - 比原计划增加

2. **复杂度高**
   - 功能验证需要仔细
   - 区间算法实现有挑战

---

## 🎯 实施计划

### Phase 1: 功能验证（5 人日）
- 验证博弈论组合赋权
- 验证群决策功能
- 验证 PCA 权重计算
- 集成测试与 Bug 修复

### Phase 2: 算法补全（8 人日）
- ELECTRE-I 区间版本
- PROMETHEE 区间版本

### Phase 3: 区间 TOPSIS（可选，3 人日）
- 补全区间算法家族

### Phase 4: 文档完善（7 人日）
- API 文档更新
- 使用教程编写
- 性能优化

---

## ✅ 验收标准

### 功能验收
- [ ] 所有验证任务完成
- [ ] 算法补全完成
- [ ] 测试覆盖率 ≥ 85%

### 质量验收
- [ ] 代码规范符合 PEP 8
- [ ] 类型注解 100%
- [ ] 文档完整

### 文档验收
- [ ] API 文档更新
- [ ] 使用教程完成
- [ ] CHANGELOG 更新

---

## 📝 后续影响

### 版本路线

```
v0.7 ✅ 区间决策支持
v0.8 🚀 核心功能完善
v0.9 📋 模糊数支持
v1.0 🎊 生产就绪
```

### 依赖关系

- v0.8 依赖 v0.7 的区间基础
- v0.9 依赖 v0.8 的算法补全
- v1.0 依赖 v0.8/v0.9 的稳定性

---

## 🎓 经验教训

1. **代码审查很重要**
   - 发现了很多已实现的功能
   - 避免重复开发

2. **版本合并要谨慎**
   - 需要仔细梳理已完成功能
   - 确保功能完整性

3. **文档要同步**
   - 执行计划要反映实际情况
   - 进度跟踪要及时更新

---

## 🔄 复审日期

**计划复审日期**: v0.8 完成后
**负责人**: MCDA Core Team

---

**决策者**: 用户
**决策日期**: 2026-02-04
**状态**: ✅ 已接受
