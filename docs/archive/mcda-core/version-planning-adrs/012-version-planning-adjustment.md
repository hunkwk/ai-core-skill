# ADR-012: v0.8 后版本规划调整

**状态**: ✅ 已接受
**日期**: 2026-02-04
**决策者**: hunkwk + AI
**影响范围**: v0.8.1, v0.9, v1.0

---

## 📋 背景

v0.8 版本已完成核心功能开发，但遗留了 TOPSIS 区间版本文档未补充。原计划直接进入 v1.0 开发（Web UI + API），但考虑到：

1. **文档完整性**: v0.8 已实现 ELECTRE-I、PROMETHEE II、TOPSIS 三个区间算法，但只有前两个有完整文档
2. **用户友好性**: 补充文档可以提高用户使用体验
3. **版本节奏**: 从 v0.8 直接到 v1.0 跨度较大，中间需要过渡版本
4. **用户体验优化**: v0.9 专注于 CLI 优化和可视化，为 v1.0 Web UI 做准备

---

## 🎯 决策

调整版本规划，新增两个过渡版本：

1. **v0.8.1**: 文档补充版本（1-2 人日）
   - 补充 TOPSIS 区间版本文档
   - 添加示例代码和 Jupyter Notebook
   - 确保文档完整性

2. **v0.9**: 用户优化版本（5-8 人日）
   - CLI 用户体验优化
   - 可视化增强（图表生成）
   - 报告模板系统
   - 为 v1.0 Web UI 做准备

3. **v1.0**: 生产就绪版本（20 人日）
   - Web UI 开发
   - RESTful API 接口
   - 数据导入导出
   - 部署文档

---

## 💡 动机

### 为什么需要 v0.8.1？

1. **文档完整性**: TOPSIS 区间算法已实现，但缺文档
2. **一致性**: 与 ELECTRE-I、PROMETHEE 保持文档风格一致
3. **工作量小**: 仅需 1-2 人日，不影响整体进度
4. **用户价值**: 用户需要完整文档来理解和使用算法

### 为什么需要 v0.9？

1. **用户体验提升**: CLI 优化和可视化可以显著改善用户体验
2. **渐进式演进**: 从 CLI 到 Web UI 需要过渡，而非跳跃式发展
3. **技术验证**: v0.9 可以验证可视化方案，为 v1.0 Web UI 做技术准备
4. **降低风险**: 分摊 v1.0 的工作量，降低开发风险
5. **快速迭代**: 小版本快速迭代，可以更快收集用户反馈

### v0.9 与 v1.0 的区别

| 特性 | v0.9 | v1.0 |
|------|------|------|
| **用户界面** | CLI 优化 | Web UI |
| **可视化** | 静态图表 | 交互式可视化 |
| **报告** | 模板系统 | 自动化报告 |
| **API** | 无 | RESTful API |
| **部署** | 无 | Docker 部署 |
| **定位** | 用户体验优化 | 生产就绪版本 |

---

## 🔄 替代方案

### 方案 A: 直接 v0.8 → v1.0（已否决）

**优点**:
- 版本简化，直接到生产就绪

**缺点**:
- 文档不完整
- 从 CLI 到 Web UI 跨度太大
- 用户体验在中间阶段缺失
- 风险集中在 v1.0

**否决原因**: 缺少文档补充和用户体验优化环节

### 方案 B: v0.8 → v0.8.1 → v1.0（已否决）

**优点**:
- 补充了文档
- 版本路径清晰

**缺点**:
- 缺少 CLI 优化环节
- 从优化后的 CLI 直接到 Web UI 仍有跨度
- 可视化功能延后到 v1.0

**否决原因**: 缺少用户体验优化版本

### 方案 C: v0.8 → v0.8.1 → v0.9 → v1.0（✅ 已接受）

**优点**:
- 文档完整（v0.8.1）
- 用户体验渐进式提升（v0.9）
- 技术风险分散
- 快速迭代，用户反馈及时

**缺点**:
- 版本数量增加
- 总工期略长（+6-10 人日）

**接受原因**: 平衡了文档完整性、用户体验和技术风险

---

## 📊 影响分析

### 工期影响

| 版本 | 原计划 | 新计划 | 变化 |
|------|--------|--------|------|
| v0.8 | 25 人日 | 25 人日 | 无变化 |
| v0.8.1 | - | 1-2 人日 | +1-2 人日 |
| v0.9 | - | 5-8 人日 | +5-8 人日 |
| v1.0 | 20 人日 | 20 人日 | 无变化 |
| **总计** | **45 人日** | **51-55 人日** | **+6-10 人日** |

**工期增加**: 约 13-22%（可接受）

### 功能完整性

| 版本 | 核心功能 | 文档 | 用户体验 | 生产就绪 |
|------|---------|------|---------|---------|
| v0.8 | ✅ | 🟡 | ❌ | ❌ |
| v0.8.1 | ✅ | ✅ | ❌ | ❌ |
| v0.9 | ✅ | ✅ | ✅ | ❌ |
| v1.0 | ✅ | ✅ | ✅ | ✅ |

**功能演进**: 更平滑，渐进式提升

### 风险分析

| 风险 | 原计划 | 新计划 | 影响 |
|------|--------|--------|------|
| **文档不完整** | 高 | 低 | v0.8.1 解决 |
| **用户体验差** | 高 | 中 | v0.9 改善 |
| **v1.0 工期压力** | 中 | 低 | v0.9 分担工作量 |
| **版本复杂度** | 低 | 中 | 版本增加，管理复杂度略增 |

**总体风险**: 显著降低 ✅

---

## ✅ 实施计划

### v0.8.1 执行计划

**工期**: 1-2 人日
**优先级**: P2
**内容**:
1. TOPSIS 区间版本使用指南（0.5 人日）
2. TOPSIS 区间版本算法详解（0.5 人日）
3. 示例代码补充（0.5 人日）
4. 文档审查和测试（0.25 人日）
5. Git 提交和打标签（0.25 人日）

**详细计划**: [v0.8.1 执行计划](../../plans/mcda-core/v0.8.1/execution-plan.md)

### v0.9 执行计划

**工期**: 5-8 人日
**优先级**: P1
**内容**:
1. CLI 用户体验优化（2 人日）
2. 可视化增强（3 人日）
3. 报告模板系统（2 人日）
4. 文档归档（1 人日）

**详细计划**: 待创建

### v1.0 执行计划

**工期**: 20 人日
**优先级**: P0
**内容**: 保持原计划不变

---

## 🎯 成功标准

### v0.8.1 成功标准
- [ ] TOPSIS 区间版本有完整文档（与 ELECTRE-I、PROMETHEE 风格一致）
- [ ] 提供 3+ 个可运行的示例代码
- [ ] 提供 Jupyter Notebook 教程
- [ ] 用户可以快速上手使用 TOPSIS 区间算法

### v0.9 成功标准
- [ ] CLI 命令简洁易用（支持短选项）
- [ ] 错误提示清晰友好
- [ ] 提供结果可视化图表（柱状图、折线图、雷达图等）
- [ ] 支持报告模板（Markdown、HTML）
- [ ] 为 v1.0 Web UI 做好技术和用户体验准备

### v1.0 成功标准
- [ ] Web UI 界面友好，功能完整
- [ ] RESTful API 接口完善
- [ ] 支持数据导入导出（Excel、CSV、JSON）
- [ ] 提供 Docker 部署方案
- [ ] 达到生产就绪标准

---

## 📝 变更历史

| 日期 | 版本 | 变更内容 | 作者 |
|------|------|---------|------|
| 2026-02-04 | v1.0 | 初始版本，创建版本规划调整 ADR | AI |

---

## 🔗 相关文档

- [v0.8 完成报告](../../active/mcda-core/v0.8/completion-report.md)
- [v0.8.1 执行计划](../../plans/mcda-core/v0.8.1/execution-plan.md)
- [完整路线图](../../plans/mcda-core/roadmap-complete.md)

---

**决策状态**: ✅ 已接受
**生效日期**: 2026-02-04
**下次审查**: v0.9 完成后
